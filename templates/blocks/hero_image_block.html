{% load wagtailcore_tags wagtailimages_tags %}

{% image self.hero_image fill-2400x658-c100 format-avif as avif_heroimage %}
{% image self.hero_image fill-2400x758-c100 format-webp as webp_heroimage %}
{% image self.hero_image fill-2400x758-c100 as heroimage %}
<div class="hero-image card border-0">
    <figure>
        <picture>
            <source 
                class="img-fluid card-img rounded-0"
                srcset="{{ avif_heroimage.url }}"
                type="image/avif"
            >
            <source
                class="img-fluid card-img rounded-0"
                srcset="{{ webp_heroimage.url }}"
                type="image/webp"
            >
            <img class="img-fluid card-img rounded-0" {{ heroimage.attrs }}>
        </picture>
        {% if self.hero_heading or self.hero_message %}
            <figcaption
                class="text-white p-3 border border-md border-primary
                d-none d-sm-block"
            >
                {% if self.hero_heading %}
                    <h3>{{ self.hero_heading }}</h3>
                {% endif %}
                {% if self.hero_message %}
                    <h4>{{ self.hero_message }}</h4>
                {% endif %}
            </figcaption>
        {% endif %}
    </figure>
</div>